
## Опис програми

Ця програма є мінімалістичним веб-додатком, побудованим на мікро-фреймворку Flask, який взаємодіє з базою даних SQLite. Її головна мета — продемонструвати різницю в обробці користувацького вводу між небезпечним (вразливим) та безпечним (захищеним) підходами

1. Скрипт setup_db.py (Підготовка Бази Даних)
Цей файл не є частиною веб-сервера. Його завдання — один раз підготувати середовище для демонстрації.

Функціонал:

Підключення: Імпортує бібліотеку sqlite3 та створює (або підключається до) файл бази даних students.db.

Очищення (DROP TABLE): Виконує команду DROP TABLE IF EXISTS students. Це гарантує, що при кожному запуску скрипта ви отримуєте "чисту", свіжу базу даних, уникаючи дублікатів.

Створення (CREATE TABLE): Створює таблицю students з трьома стовпцями: id, name (текстовий, обов'язковий) та grade (текстовий, обов'язковий).

Заповнення (INSERT): Додає до таблиці список початкових даних, включаючи звичайних студентів та один "прихований" запис (Секретний Адмін), який є ціллю для атаки.

Збереження: Виконує conn.commit(), щоб зберегти всі зміни у файлі students.db.

2. Файл app.py (Основна логіка сервера)
Це "мозок"  веб-додатку. Він використовує Flask для запуску веб-сервера та обробки запитів від користувача.

Функціонал:

Імпорт та ініціалізація: Імпортує Flask та інші необхідні функції. app = Flask(__name__) створює екземпляр вашого веб-додатку.

Підключення до БД: Функція get_db_connection() — це допоміжна функція, яка відкриває з'єднання з students.db. Важливий рядок conn.row_factory = sqlite3.Row дозволяє отримувати результати з БД у вигляді словників (де можна звертатися до стовпців за назвою, наприклад student['name']), що зручніше для шаблонів.

Маршрут (Route) /:

Це головна сторінка вашого сайту.

Він реагує на GET запити (коли ви просто відкриваєте сайт у браузері).

Його єдине завдання — відрендерити (показати) користувачеві HTML-файл index.html.

Маршрут (Route) /search_vulnerable (Вразлива функція):

Реагує на POST запити (коли користувач натискає кнопку "Шукати" у вразливій формі).

Отримує дані, введені користувачем, з request.form['name'].

Ключова уразливість: Формує SQL-запит шляхом прямої конкатенації (склеювання) рядків: query = "SELECT * FROM ... '" + name + "'"

Виконує цей "склеєний" запит. Якщо користувач вводить SQL-код (наприклад, ' OR '1'='1'), цей код стає частиною запиту і виконується базою даних.

Повертає результати (усі знайдені рядки) назад у шаблон index.html для відображення.

Маршрут (Route) /search_secure (Безпечна функція):

Реагує на POST запити з безпечної форми.

Отримує дані request.form['name'].

Ключовий захист: Формує SQL-запит, використовуючи плейсхолдер (placeholder): query = "SELECT * FROM ... name = ?"

Виконує запит, передаючи дані користувача (name,) окремим аргументом.

Драйвер бази даних (sqlite3) сам безпечно обробляє цей ввід, гарантуючи, що він сприймається лише як текст (дані), а не як виконувана команда. Атака SQL-ін'єкції тут неможлива.

Повертає результати (зазвичай порожні, якщо це атака) у шаблон index.html.

Запуск сервера: Блок if __name__ == '__main__': запускає веб-сервер у режимі налагодження (debug=True), коли ви виконуєте python app.py.

### Метод 1: Через Вбудований Термінал VSC 

Це найкращий спосіб для взаємодії з програмою (введення пароля, імені та дати народження).

1.  У Visual Studio Code, відкрийте термінал, натиснувши **`Ctrl` + `` ` ``** (клавіша з тильдою) або перейдіть у меню **Terminal** $\rightarrow$ **New Terminal**.
2.  Переконайтеся, що ви знаходитесь у каталозі `lab01`. Якщо ні, перейдіть туди:
    ```bash
    cd lab01
    ```
3.  Запустіть програму командою:
    ```bash
    python lab02saltevska.py
    ```
    Після цього програма запитає у вас необхідні вхідні дані.

### Метод 2: Через кнопку "Запуск" (Run)

1.  Переконайтеся, що файл **`lab02saltevska.py`** відкрито та активний.
2.  Натисніть на **трикутник (Play/Run)** у правому верхньому куті вікна VSC.
3.  Програма запуститься, і взаємодія з нею (введення даних) відбуватиметься у панелі **TERMINAL** внизу екрана.
